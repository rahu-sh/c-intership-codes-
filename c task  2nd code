#include <stdio.h>
#define SIZE 10
void input(int a[SIZE][SIZE], int r, int c) {
    for(int i=0;i<r;i++) for(int j=0;j<c;j++) scanf("%d",&a[i][j]);
}
void print(int a[SIZE][SIZE], int r, int c) {
    for(int i=0;i<r;i++){ for(int j=0;j<c;j++) printf("%d ",a[i][j]); printf("\n"); }
}
void add(int a[SIZE][SIZE], int b[SIZE][SIZE], int r, int c) {
    int res[SIZE][SIZE];
    for(int i=0;i<r;i++) for(int j=0;j<c;j++) res[i][j]=a[i][j]+b[i][j];
    print(res,r,c);
}
void multiply(int a[SIZE][SIZE], int b[SIZE][SIZE], int r1, int c1, int c2) {
    int res[SIZE][SIZE]={0};
    for(int i=0;i<r1;i++) for(int j=0;j<c2;j++) for(int k=0;k<c1;k++) res[i][j]+=a[i][k]*b[k][j];
    print(res,r1,c2);
}
void transpose(int a[SIZE][SIZE], int r, int c) {
    int res[SIZE][SIZE];
    for(int i=0;i<r;i++) for(int j=0;j<c;j++) res[j][i]=a[i][j];
    print(res,c,r);
}
int main() {
    int a[SIZE][SIZE], b[SIZE][SIZE], r1,c1,r2,c2,ch;
    printf("Enter rows and cols of first matrix: "); scanf("%d%d",&r1,&c1);
    input(a,r1,c1);
    printf("Enter rows and cols of second matrix: "); scanf("%d%d",&r2,&c2);
    input(b,r2,c2);
    printf("1.Addition\n2.Multiplication\n3.Transpose First\n4.Transpose Second\nEnter choice: ");
    scanf("%d",&ch);
    if(ch==1 && r1==r2 && c1==c2) add(a,b,r1,c1);
    else if(ch==2 && c1==r2) multiply(a,b,r1,c1,c2);
    else if(ch==3) transpose(a,r1,c1);
    else if(ch==4) transpose(b,r2,c2);
    else printf("Invalid operation\n");
    return 0;
}
